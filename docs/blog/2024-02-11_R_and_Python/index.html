<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="David Munoz Tord">
<meta name="dcterms.date" content="2024-02-11">

<title>R and Python side-by-side for data wrangling – We Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/me.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ECFW8LLBS7"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ECFW8LLBS7', { 'anonymize_ip': true});
</script>




<!-- =======================  Google Translate 

======================= -->



<meta name="twitter:title" content="R and Python side-by-side for data wrangling – We Data">
<meta name="twitter:description" content="We Data website">
<meta name="twitter:image" content="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQaU1MQP7bh0D7BBUpYd3qE2SrBW9_6kq_7DAjdJ_zvSmppcYHi0zfV6TAnCUAeOLXHb60&amp;usqp=CAU">
<meta name="twitter:creator" content="@munoztd0">
<meta name="twitter:card" content="summary_large_image">
</head><body class="floating nav-fixed"><div style="float: right">

   <div id="google_translate_element" style="position: absolute; right: 0px; z-index: 1;"></div>

</div>





 <style type="text/css">

 

   .fixed-con {

    z-index: 9724790009779558!important;

    background-color: #f7f8fc;

    position: fixed;

    top: 0;

    left: 0;

    right: 0;

    bottom: 0;

    overflow-y: auto;

  }

  .VIpgJd-ZVi9od-aZ2wEe-wOHMyf{

   z-index: 9724790009779!important;

   top:0;

   left:unset;

   right:-5px;

   display:none!important;

   border-radius:50%;

   border:2px solid gold;

  }

  .VIpgJd-ZVi9od-aZ2wEe-OiiCO{

    width:80px;

    height:80px;

  }

  /*hide google translate link | logo | banner-frame */

  .goog-logo-link,.gskiptranslate,.goog-te-gadget span,.goog-te-banner-frame,#goog-gt-tt, .goog-te-balloon-frame,div#goog-gt-{

    display: none!important;

  }

  .goog-te-gadget {

    color: transparent!important;

    font-size:0px;

  }



  .goog-text-highlight {

    background: none !important;

    box-shadow: none !important;

  }

   

 /*google translate Dropdown */

 

 #google_translate_element select{

 background:#f6edfd;

 color:#383ffa;

 border: none;

 border-radius:3px;

 padding:6px 8px

 }

</style>

   





  <script>

 function googleTranslateElementInit() {

 new google.translate.TranslateElement({

 pageLanguage: 'en',

 defaultLanguage: 'en',

 includedLanguages: 'de,en,fr,es,ja,ko,ru,ar',

 autoDisplay: 'true',

 layout: google.translate.TranslateElement.InlineLayout.HORIZONTAL

 }, 'google_translate_element');

 }

 </script>

 

 <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="../../site_libs/plotly-binding-4.10.4/plotly.js"></script>

<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>

<link href="../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

<link href="../../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">

<script src="../../site_libs/pagedtable-1.1/js/pagedtable.js"></script>







<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/primary.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text"><i class="fa-solid fa-house-user" aria-label="house-user"></i> Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text"><i class="fa-solid fa-laptop-code" aria-label="laptop-code"></i> Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/we-data-ch/wedata-ultimate-r-exercises"> 
<span class="menu-text"><i class="fa-solid fa-book" aria-label="book"></i> Exercises</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../team.html"> 
<span class="menu-text"><i class="fa-solid fa-users" aria-label="users"></i> Team</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text"><i class="fa-solid fa-address-card" aria-label="address-card"></i> About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contact.html"> 
<span class="menu-text"><i class="fa-solid fa-paper-plane" aria-label="paper-plane"></i> Contact</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/we-data-ch"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/@wedata_unige"> <i class="bi bi-youtube" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/wedata_unige"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/company/wedata-gen%C3%A8ve/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">R and Python side-by-side for data wrangling</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">R</div>
                <div class="quarto-category">Python</div>
                <div class="quarto-category">tidyverse</div>
                <div class="quarto-category">polars</div>
                <div class="quarto-category">plotly</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>David Munoz Tord </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 11, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data" id="toc-data" class="nav-link active" data-scroll-target="#data">Data</a></li>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages"><i class="fa-brands fa-r-project" aria-label="r-project"></i> packages</a></li>
  <li><a href="#libraries" id="toc-libraries" class="nav-link" data-scroll-target="#libraries"><i class="fa-brands fa-python" aria-label="python"></i> libraries</a>
  <ul class="collapse">
  <li><a href="#sri-lanka-vs-turkey" id="toc-sri-lanka-vs-turkey" class="nav-link" data-scroll-target="#sri-lanka-vs-turkey">Sri Lanka VS Turkey</a></li>
  <li><a href="#lets-just-compare-them-all-at-once" id="toc-lets-just-compare-them-all-at-once" class="nav-link" data-scroll-target="#lets-just-compare-them-all-at-once">Let’s just compare them all at once</a></li>
  </ul></li>
  <li><a href="#aggregates" id="toc-aggregates" class="nav-link" data-scroll-target="#aggregates">Aggregates</a></li>
  <li><a href="#scatterplots" id="toc-scatterplots" class="nav-link" data-scroll-target="#scatterplots">Scatterplots</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<div class="column-page-inset-right">
<p>After seeing many <em>language wars</em> style posts about <i class="fa-brands fa-r-project" aria-label="r-project"></i> vs <i class="fa-brands fa-python" aria-label="python"></i> and the sort of comparisons being made, I realized that there aren’t many helpful side-by-sides that show you how to do <em>x</em> in <em>y</em> language (and <em>vice versa</em>).</p>
<!-- , I thought about the kind of post I would like to see; one that leverages both `tidyverse`, modern pandas [method-chaining](tom a's blog) / [`pyjanitor`](https://pyjanitor-devs.github.io/pyjanitor/) or [`polars`](https://pola-rs.github.io/polars-book/user-guide/), and `plotly` (in both R and Python). -->
<p>I decided to try and see if I could contribute something to the discourse. I’m not really trying to reinvent an analysis wheel and just want to focus on the <em>how</em> something is accomplished from one language to the other so I’m pulling from a few sources to just have some code to translate using the same data for both languages.</p>
<p>Since <code>polars</code> is new to me and I like learning new things, I’m using it for the examples <!-- , but if you're familiar with `pandas` already, I'd __highly__ recommend `pyjanitor`. --></p>
</div>
<section id="data" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<div class="column-page-inset-right">
<p>Data was obtained from the <code>gapminder</code> R package and written to parquet via R’s <code>arrow::write_parquet</code> for better interoporability between R and Python. Additionally, the size is low enough to pull the data as parquet from my GitHub repo.</p>
</div>
</section>
<section id="packages" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="packages"><i class="fa-brands fa-r-project" aria-label="r-project"></i> packages</h2>
<div class="column-page-inset-right">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(arrow, <span class="at">include.only =</span> <span class="st">"read_parquet"</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(magrittr, <span class="at">include.only =</span> <span class="st">"%&lt;&gt;%"</span>)</span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a>gapminder <span class="ot">&lt;-</span> <span class="fu">read_parquet</span>(<span class="st">"gapminder.parquet"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="libraries" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="libraries"><i class="fa-brands fa-python" aria-label="python"></i> libraries</h2>
<div class="column-page-inset-right">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="im">import</span> polars <span class="im">as</span> pl</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a>gapminder <span class="op">=</span> pl.read_parquet(<span class="st">"gapminder.parquet"</span>)</span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a>gapminder <span class="op">=</span> (gapminder</span>
<span id="cb2-7"><a href="#cb2-7"></a>  .with_columns([</span>
<span id="cb2-8"><a href="#cb2-8"></a>    pl.col(<span class="st">"country"</span>).cast(pl.Utf8),</span>
<span id="cb2-9"><a href="#cb2-9"></a>    pl.col(<span class="st">"continent"</span>).cast(pl.Utf8),</span>
<span id="cb2-10"><a href="#cb2-10"></a>    pl.col(<span class="st">"region"</span>).cast(pl.Utf8)  </span>
<span id="cb2-11"><a href="#cb2-11"></a>  ])</span>
<span id="cb2-12"><a href="#cb2-12"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><i class="fa-brands fa-r-project" aria-label="r-project"></i> <strong>return top 10 rows in R</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>gapminder <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["fct"],"align":["left"]},{"label":["year"],"name":[2],"type":["int"],"align":["right"]},{"label":["infant_mortality"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["life_expectancy"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["fertility"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["population"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["gdp"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["continent"],"name":[8],"type":["fct"],"align":["left"]},{"label":["region"],"name":[9],"type":["fct"],"align":["left"]}],"data":[{"1":"Albania","2":"1960","3":"115.40","4":"62.87","5":"6.19","6":"1636054","7":"NA","8":"Europe","9":"Southern Europe"},{"1":"Algeria","2":"1960","3":"148.20","4":"47.50","5":"7.65","6":"11124892","7":"13828152297","8":"Africa","9":"Northern Africa"},{"1":"Angola","2":"1960","3":"208.00","4":"35.98","5":"7.32","6":"5270844","7":"NA","8":"Africa","9":"Middle Africa"},{"1":"Antigua and Barbuda","2":"1960","3":"NA","4":"62.97","5":"4.43","6":"54681","7":"NA","8":"Americas","9":"Caribbean"},{"1":"Argentina","2":"1960","3":"59.87","4":"65.39","5":"3.11","6":"20619075","7":"108322326649","8":"Americas","9":"South America"},{"1":"Armenia","2":"1960","3":"NA","4":"66.86","5":"4.55","6":"1867396","7":"NA","8":"Asia","9":"Western Asia"},{"1":"Aruba","2":"1960","3":"NA","4":"65.66","5":"4.82","6":"54208","7":"NA","8":"Americas","9":"Caribbean"},{"1":"Australia","2":"1960","3":"20.30","4":"70.87","5":"3.45","6":"10292328","7":"96677859364","8":"Oceania","9":"Australia and New Zealand"},{"1":"Austria","2":"1960","3":"37.30","4":"68.75","5":"2.70","6":"7065525","7":"52392699681","8":"Europe","9":"Western Europe"},{"1":"Azerbaijan","2":"1960","3":"NA","4":"61.33","5":"5.57","6":"3897889","7":"NA","8":"Asia","9":"Western Asia"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><i class="fa-brands fa-r-project" aria-label="r-project"></i> <strong>get quick info on the data with <code>dplyr::glimpse()</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>gapminder <span class="sc">|&gt;</span> <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 10,545
Columns: 9
$ country          &lt;fct&gt; "Albania", "Algeria", "Angola", "Antigua and Barbuda"…
$ year             &lt;int&gt; 1960, 1960, 1960, 1960, 1960, 1960, 1960, 1960, 1960,…
$ infant_mortality &lt;dbl&gt; 115.40, 148.20, 208.00, NA, 59.87, NA, NA, 20.30, 37.…
$ life_expectancy  &lt;dbl&gt; 62.87, 47.50, 35.98, 62.97, 65.39, 66.86, 65.66, 70.8…
$ fertility        &lt;dbl&gt; 6.19, 7.65, 7.32, 4.43, 3.11, 4.55, 4.82, 3.45, 2.70,…
$ population       &lt;dbl&gt; 1636054, 11124892, 5270844, 54681, 20619075, 1867396,…
$ gdp              &lt;dbl&gt; NA, 13828152297, NA, NA, 108322326649, NA, NA, 966778…
$ continent        &lt;fct&gt; Europe, Africa, Africa, Americas, Americas, Asia, Ame…
$ region           &lt;fct&gt; Southern Europe, Northern Africa, Middle Africa, Cari…</code></pre>
</div>
</div>
<p><i class="fa-brands fa-python" aria-label="python"></i> <strong>return top 10 rows in Python</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a>gapminder.head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year"],"name":[2],"type":["int"],"align":["right"]},{"label":["infant_mortality"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["life_expectancy"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["fertility"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["population"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["gdp"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["continent"],"name":[8],"type":["chr"],"align":["left"]},{"label":["region"],"name":[9],"type":["chr"],"align":["left"]}],"data":[{"1":"Albania","2":"1960","3":"115.40","4":"62.87","5":"6.19","6":"1636054","7":"NaN","8":"Europe","9":"Southern Europe"},{"1":"Algeria","2":"1960","3":"148.20","4":"47.50","5":"7.65","6":"11124892","7":"13828152297","8":"Africa","9":"Northern Africa"},{"1":"Angola","2":"1960","3":"208.00","4":"35.98","5":"7.32","6":"5270844","7":"NaN","8":"Africa","9":"Middle Africa"},{"1":"Antigua and Barbuda","2":"1960","3":"NaN","4":"62.97","5":"4.43","6":"54681","7":"NaN","8":"Americas","9":"Caribbean"},{"1":"Argentina","2":"1960","3":"59.87","4":"65.39","5":"3.11","6":"20619075","7":"108322326649","8":"Americas","9":"South America"},{"1":"Armenia","2":"1960","3":"NaN","4":"66.86","5":"4.55","6":"1867396","7":"NaN","8":"Asia","9":"Western Asia"},{"1":"Aruba","2":"1960","3":"NaN","4":"65.66","5":"4.82","6":"54208","7":"NaN","8":"Americas","9":"Caribbean"},{"1":"Australia","2":"1960","3":"20.30","4":"70.87","5":"3.45","6":"10292328","7":"96677859364","8":"Oceania","9":"Australia and New Zealand"},{"1":"Austria","2":"1960","3":"37.30","4":"68.75","5":"2.70","6":"7065525","7":"52392699681","8":"Europe","9":"Western Europe"},{"1":"Azerbaijan","2":"1960","3":"NaN","4":"61.33","5":"5.57","6":"3897889","7":"NaN","8":"Asia","9":"Western Asia"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><i class="fa-brands fa-python" aria-label="python"></i> <strong>get quick info on the data with <code>pandas</code>’s <code>info</code> <code>DataFrame</code> method</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>gapminder.to_pandas().info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 10545 entries, 0 to 10544
Data columns (total 9 columns):
 #   Column            Non-Null Count  Dtype  
---  ------            --------------  -----  
 0   country           10545 non-null  object 
 1   year              10545 non-null  int32  
 2   infant_mortality  9092 non-null   float64
 3   life_expectancy   10545 non-null  float64
 4   fertility         10358 non-null  float64
 5   population        10360 non-null  float64
 6   gdp               7573 non-null   float64
 7   continent         10545 non-null  object 
 8   region            10545 non-null  object 
dtypes: float64(5), int32(1), object(3)
memory usage: 700.4+ KB</code></pre>
</div>
</div>
<p>This will come back later, but it’s very easy to move your <code>polars</code> data into a <code>pandas DataFrame</code>.</p>
</div>
<section id="sri-lanka-vs-turkey" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="sri-lanka-vs-turkey">Sri Lanka VS Turkey</h3>
<div class="column-page-inset-right">
<p><i class="fa-brands fa-r-project" aria-label="r-project"></i> <strong>simple <code>dplyr::filter</code> and <code>dplyr::select</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>gapminder <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="st">"2015"</span>, country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Sri Lanka"</span>, <span class="st">"Turkey"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">select</span>(country, infant_mortality)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["fct"],"align":["left"]},{"label":["infant_mortality"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Sri Lanka","2":"8.4"},{"1":"Turkey","2":"11.6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><i class="fa-brands fa-python" aria-label="python"></i> <strong>simple <code>filter</code> and <code>select</code> method chain</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>(gapminder</span>
<span id="cb10-2"><a href="#cb10-2"></a>  .<span class="bu">filter</span>(</span>
<span id="cb10-3"><a href="#cb10-3"></a>    (pl.col(<span class="st">"year"</span>) <span class="op">==</span> <span class="dv">2015</span>) <span class="op">&amp;</span> </span>
<span id="cb10-4"><a href="#cb10-4"></a>    (pl.col(<span class="st">"country"</span>).is_in([<span class="st">"Sri Lanka"</span>, <span class="st">"Turkey"</span>]))) </span>
<span id="cb10-5"><a href="#cb10-5"></a>  .select([<span class="st">"country"</span>, <span class="st">"infant_mortality"</span>])</span>
<span id="cb10-6"><a href="#cb10-6"></a>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["infant_mortality"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Sri Lanka","2":"8.4"},{"1":"Turkey","2":"11.6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This is where you can start to see how powerful <code>polars</code> can be in terms of the way it handles <a href="https://pola-rs.github.io/polars-book/user-guide/coming_from_pandas.html#be-lazy">lazy evaluation</a>. One of the reasons <code>dplyr</code> is so expressive and intuitive (at least in my view) is due in large part to the way it handles lazy evaluation. For people that are tired of constantly needing to refer to the data and column in <code>pandas</code> will likely rejoice at <code>polars.col</code>!</p>
</div>
</section>
<section id="lets-just-compare-them-all-at-once" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="lets-just-compare-them-all-at-once">Let’s just compare them all at once</h3>
<div class="column-page-inset-right">
<p><i class="fa-brands fa-r-project" aria-label="r-project"></i> <strong>same strategy; more countries</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>gapminder <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="fu">filter</span>(</span>
<span id="cb11-3"><a href="#cb11-3"></a>    year <span class="sc">==</span> <span class="st">"2015"</span>, </span>
<span id="cb11-4"><a href="#cb11-4"></a>    country <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb11-5"><a href="#cb11-5"></a>      <span class="st">"Sri Lanka"</span>, <span class="st">"Turkey"</span>, <span class="st">"Poland"</span>, <span class="st">"South Korea"</span>,</span>
<span id="cb11-6"><a href="#cb11-6"></a>      <span class="st">"Malaysia"</span>, <span class="st">"Russia"</span>, <span class="st">"Pakistan"</span>, <span class="st">"Vietnam"</span>,</span>
<span id="cb11-7"><a href="#cb11-7"></a>      <span class="st">"Thailand"</span>, <span class="st">"South Africa"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>  <span class="fu">select</span>(country, infant_mortality) <span class="sc">|&gt;</span></span>
<span id="cb11-9"><a href="#cb11-9"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(infant_mortality))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["fct"],"align":["left"]},{"label":["infant_mortality"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Pakistan","2":"65.8"},{"1":"South Africa","2":"33.6"},{"1":"Vietnam","2":"17.3"},{"1":"Turkey","2":"11.6"},{"1":"Thailand","2":"10.5"},{"1":"Sri Lanka","2":"8.4"},{"1":"Russia","2":"8.2"},{"1":"Malaysia","2":"6.0"},{"1":"Poland","2":"4.5"},{"1":"South Korea","2":"2.9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><i class="fa-brands fa-python" aria-label="python"></i> <strong>same as above</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a>(gapminder</span>
<span id="cb12-2"><a href="#cb12-2"></a>  .<span class="bu">filter</span>(</span>
<span id="cb12-3"><a href="#cb12-3"></a>    (pl.col(<span class="st">"year"</span>) <span class="op">==</span> <span class="dv">2015</span>) <span class="op">&amp;</span> </span>
<span id="cb12-4"><a href="#cb12-4"></a>    (pl.col(<span class="st">"country"</span>).is_in([</span>
<span id="cb12-5"><a href="#cb12-5"></a>      <span class="st">"Sri Lanka"</span>, <span class="st">"Turkey"</span>, <span class="st">"Poland"</span>, <span class="st">"South Korea"</span>, </span>
<span id="cb12-6"><a href="#cb12-6"></a>      <span class="st">"Poland"</span>, <span class="st">"South Korea"</span>,<span class="st">"Malaysia"</span>, <span class="st">"Russia"</span>, </span>
<span id="cb12-7"><a href="#cb12-7"></a>      <span class="st">"Pakistan"</span>, <span class="st">"Vietnam"</span>, <span class="st">"Thailand"</span>, <span class="st">"South Africa"</span>]))) </span>
<span id="cb12-8"><a href="#cb12-8"></a>  .select([<span class="st">"country"</span>, <span class="st">"infant_mortality"</span>])</span>
<span id="cb12-9"><a href="#cb12-9"></a>  .sort(<span class="st">"infant_mortality"</span>, descending <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb12-10"><a href="#cb12-10"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["infant_mortality"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Pakistan","2":"65.8"},{"1":"South Africa","2":"33.6"},{"1":"Vietnam","2":"17.3"},{"1":"Turkey","2":"11.6"},{"1":"Thailand","2":"10.5"},{"1":"Sri Lanka","2":"8.4"},{"1":"Russia","2":"8.2"},{"1":"Malaysia","2":"6.0"},{"1":"Poland","2":"4.5"},{"1":"South Korea","2":"2.9"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="aggregates" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="aggregates">Aggregates</h2>
<div class="column-page-inset-right">
<p><i class="fa-brands fa-r-project" aria-label="r-project"></i> <strong>grouping and taking an average</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>gapminder <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">group_by</span>(continent) <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="fu">summarise</span>(<span class="at">mean_life_expectancy =</span> <span class="fu">mean</span>(life_expectancy) <span class="sc">|&gt;</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>              <span class="fu">round</span>(<span class="dv">2</span>), <span class="at">.groups =</span> <span class="st">"keep"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["continent"],"name":[1],"type":["fct"],"align":["left"]},{"label":["mean_life_expectancy"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Africa","2":"54.38"},{"1":"Americas","2":"68.77"},{"1":"Asia","2":"65.90"},{"1":"Europe","2":"73.56"},{"1":"Oceania","2":"64.58"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><i class="fa-brands fa-python" aria-label="python"></i> <strong>now with <code>polars</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a>(gapminder</span>
<span id="cb14-2"><a href="#cb14-2"></a>  .group_by(<span class="st">"continent"</span>)</span>
<span id="cb14-3"><a href="#cb14-3"></a>  .agg([</span>
<span id="cb14-4"><a href="#cb14-4"></a>    (pl.col(<span class="st">"life_expectancy"</span>)</span>
<span id="cb14-5"><a href="#cb14-5"></a>        .mean().</span>
<span id="cb14-6"><a href="#cb14-6"></a>        <span class="bu">round</span>(<span class="dv">2</span>).</span>
<span id="cb14-7"><a href="#cb14-7"></a>        alias(<span class="st">"mean_life_expectancy"</span>))</span>
<span id="cb14-8"><a href="#cb14-8"></a>    ])</span>
<span id="cb14-9"><a href="#cb14-9"></a>  .sort(<span class="st">"continent"</span>)</span>
<span id="cb14-10"><a href="#cb14-10"></a>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["continent"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mean_life_expectancy"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Africa","2":"54.38"},{"1":"Americas","2":"68.77"},{"1":"Asia","2":"65.90"},{"1":"Europe","2":"73.56"},{"1":"Oceania","2":"64.58"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<p>I think this is probably a good enough intro to how you’d generally do things. Filtering, and aggregatingare probably the most foundational and this could already get you started in another language without as much headache <i class="fa-solid fa-head-side-virus" aria-label="head-side-virus"></i> <!-- and doing `case_when` style workflows --> :::</p>
</section>
<section id="scatterplots" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="scatterplots">Scatterplots</h2>
<div class="column-page-inset-right">
<p>I’m trying to strike a balance between dead basic <code>plotly</code> plots and some things you might want to do to make them look a little more the way <em>you</em> want. The great thing about customizing is that you can write functions to do specific things. <!-- I don't want to overload you with defensive programming for custom function writing using [Colin Fay](https://colinfay.me/)'s `attempt` [package](https://github.com/ColinFay/attempt), so I'm simplifying a bit; or at least trying to strike a balance. --> In some instances you can create simple functions or just save a list of values you want to recycle throughout.</p>
<p><i class="fa-brands fa-r-project" aria-label="r-project"></i> <strong>+ <code>plotly</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>plotly_title <span class="ot">&lt;-</span> <span class="cf">function</span>(title, subtitle, ...) {</span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="fu">return</span>(</span>
<span id="cb15-3"><a href="#cb15-3"></a>    <span class="fu">list</span>(</span>
<span id="cb15-4"><a href="#cb15-4"></a>      <span class="at">text =</span> <span class="fu">str_glue</span>(</span>
<span id="cb15-5"><a href="#cb15-5"></a>        <span class="st">"</span></span>
<span id="cb15-6"><a href="#cb15-6"></a><span class="st">        &lt;b&gt;{title}&lt;/b&gt;</span></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="st">        &lt;sup&gt;{subtitle}&lt;/sup&gt;</span></span>
<span id="cb15-8"><a href="#cb15-8"></a><span class="st">        "</span>),</span>
<span id="cb15-9"><a href="#cb15-9"></a>      ...))</span>
<span id="cb15-10"><a href="#cb15-10"></a>}</span>
<span id="cb15-11"><a href="#cb15-11"></a></span>
<span id="cb15-12"><a href="#cb15-12"></a>margin <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb15-13"><a href="#cb15-13"></a>  <span class="at">t =</span> <span class="dv">95</span>,</span>
<span id="cb15-14"><a href="#cb15-14"></a>  <span class="at">r =</span> <span class="dv">40</span>,</span>
<span id="cb15-15"><a href="#cb15-15"></a>  <span class="at">b =</span> <span class="dv">120</span>,</span>
<span id="cb15-16"><a href="#cb15-16"></a>  <span class="at">l =</span> <span class="dv">79</span>)</span>
<span id="cb15-17"><a href="#cb15-17"></a></span>
<span id="cb15-18"><a href="#cb15-18"></a>gapminder <span class="sc">|&gt;</span></span>
<span id="cb15-19"><a href="#cb15-19"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">1962</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-20"><a href="#cb15-20"></a>  <span class="fu">plot_ly</span>(</span>
<span id="cb15-21"><a href="#cb15-21"></a>    <span class="at">x =</span> <span class="sc">~</span>fertility, <span class="at">y =</span> <span class="sc">~</span>life_expectancy, </span>
<span id="cb15-22"><a href="#cb15-22"></a>    <span class="at">color =</span> <span class="sc">~</span>continent, <span class="at">colors =</span> <span class="st">"Set2"</span>, </span>
<span id="cb15-23"><a href="#cb15-23"></a>    <span class="at">type =</span> <span class="st">"scatter"</span>, <span class="at">mode =</span> <span class="st">"markers"</span>,</span>
<span id="cb15-24"><a href="#cb15-24"></a>    <span class="at">hoverinfo =</span> <span class="st">"text"</span>,</span>
<span id="cb15-25"><a href="#cb15-25"></a>    <span class="at">text =</span> <span class="sc">~</span><span class="fu">str_glue</span>(</span>
<span id="cb15-26"><a href="#cb15-26"></a>      <span class="st">"</span></span>
<span id="cb15-27"><a href="#cb15-27"></a><span class="st">      &lt;b&gt;{country}&lt;/b&gt;&lt;br&gt;</span></span>
<span id="cb15-28"><a href="#cb15-28"></a><span class="st">      Continent: &lt;b&gt;{continent}&lt;/b&gt;</span></span>
<span id="cb15-29"><a href="#cb15-29"></a><span class="st">      Fertility: &lt;b&gt;{fertility}&lt;/b&gt;</span></span>
<span id="cb15-30"><a href="#cb15-30"></a><span class="st">      Life Expectancy: &lt;b&gt;{life_expectancy}&lt;/b&gt;</span></span>
<span id="cb15-31"><a href="#cb15-31"></a><span class="st">      "</span>),</span>
<span id="cb15-32"><a href="#cb15-32"></a>    <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb15-33"><a href="#cb15-33"></a>      <span class="at">size =</span> <span class="dv">7</span></span>
<span id="cb15-34"><a href="#cb15-34"></a>    )) <span class="sc">|&gt;</span></span>
<span id="cb15-35"><a href="#cb15-35"></a>  <span class="fu">layout</span>(</span>
<span id="cb15-36"><a href="#cb15-36"></a>    <span class="at">margin =</span> margin,</span>
<span id="cb15-37"><a href="#cb15-37"></a>    <span class="at">title =</span> <span class="fu">plotly_title</span>(</span>
<span id="cb15-38"><a href="#cb15-38"></a>      <span class="at">title =</span> <span class="st">"Scatterplot"</span>,</span>
<span id="cb15-39"><a href="#cb15-39"></a>      <span class="at">subtitle =</span> <span class="st">"Life expectancy by fertility"</span>,</span>
<span id="cb15-40"><a href="#cb15-40"></a>      <span class="at">x =</span> <span class="dv">0</span>,</span>
<span id="cb15-41"><a href="#cb15-41"></a>      <span class="at">xref =</span> <span class="st">"paper"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb15-42"><a href="#cb15-42"></a>  <span class="fu">config</span>(<span class="at">displayModeBar =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-6ccf27dfdcc31d663d73" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-6ccf27dfdcc31d663d73">{"x":{"visdat":{"173aa52153599":["function () ","plotlyVisDat"]},"cur_data":"173aa52153599","attrs":{"173aa52153599":{"x":{},"y":{},"mode":"markers","hoverinfo":"text","text":{},"marker":{"size":7},"color":{},"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":120,"l":79,"t":95,"r":40},"title":{"text":"<b>Scatterplot<\/b><br /><sup>Life expectancy by fertility<\/sup>","x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"title":"fertility"},"yaxis":{"domain":[0,1],"automargin":true,"title":"life_expectancy"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"data":[{"x":[7.6500000000000004,7.3899999999999997,6.3899999999999997,6.6500000000000004,6.3399999999999999,7.0499999999999998,5.7699999999999996,6.9500000000000002,5.8899999999999997,6.29,6.9000000000000004,6.0300000000000002,5.9699999999999998,7.5,6.5300000000000002,6.5700000000000003,5.5300000000000002,6.8399999999999999,6.8799999999999999,4.54,5.6699999999999999,6.8300000000000001,6.1200000000000001,5.6699999999999999,8.0399999999999991,5.8200000000000003,6.4500000000000002,7.6100000000000003,7.2999999999999998,6.9800000000000004,6.75,6.79,6.1200000000000001,7.1299999999999999,6.5999999999999996,6.1799999999999997,7.1200000000000001,6.3499999999999996,8.1999999999999993,7.04,5.5300000000000002,6.1600000000000001,6.0999999999999996,6.7400000000000002,6.75,6.7999999999999998,6.6200000000000001,7.1200000000000001,7.04,7.1299999999999999,7.2699999999999996],"y":[48.549999999999997,37.079999999999998,39.32,51.020000000000003,36.229999999999997,41.130000000000003,44.530000000000001,50.43,38.359999999999999,41.759999999999998,44.890000000000001,44.609999999999999,49.469999999999999,39.460000000000001,46.789999999999999,49.43,38.380000000000003,39.689999999999998,38.939999999999998,39.560000000000002,36.68,47.25,36.170000000000002,43.640000000000001,48.82,47.969999999999999,35.880000000000003,48,43.119999999999997,39.020000000000003,30.079999999999998,45.310000000000002,60.640000000000001,50.600000000000001,39.399999999999999,48.310000000000002,37.100000000000001,41.609999999999999,43.740000000000002,38.719999999999999,61.590000000000003,37.060000000000002,49.780000000000001,50.520000000000003,45.420000000000002,46.259999999999998,42.420000000000002,44.649999999999999,46.560000000000002,49.420000000000002,53.990000000000002],"mode":"markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Algeria<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.65<\/b><br />Life Expectancy: <b>48.55<\/b>","<b>Angola<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.39<\/b><br />Life Expectancy: <b>37.08<\/b>","<b>Benin<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.39<\/b><br />Life Expectancy: <b>39.32<\/b>","<b>Botswana<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.65<\/b><br />Life Expectancy: <b>51.02<\/b>","<b>Burkina Faso<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.34<\/b><br />Life Expectancy: <b>36.23<\/b>","<b>Burundi<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.05<\/b><br />Life Expectancy: <b>41.13<\/b>","<b>Cameroon<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>5.77<\/b><br />Life Expectancy: <b>44.53<\/b>","<b>Cape Verde<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.95<\/b><br />Life Expectancy: <b>50.43<\/b>","<b>Central African Republic<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>5.89<\/b><br />Life Expectancy: <b>38.36<\/b>","<b>Chad<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.29<\/b><br />Life Expectancy: <b>41.76<\/b>","<b>Comoros<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.9<\/b><br />Life Expectancy: <b>44.89<\/b>","<b>Congo, Dem. Rep.<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.03<\/b><br />Life Expectancy: <b>44.61<\/b>","<b>Congo, Rep.<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>5.97<\/b><br />Life Expectancy: <b>49.47<\/b>","<b>Cote d'Ivoire<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.5<\/b><br />Life Expectancy: <b>39.46<\/b>","<b>Djibouti<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.53<\/b><br />Life Expectancy: <b>46.79<\/b>","<b>Egypt<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.57<\/b><br />Life Expectancy: <b>49.43<\/b>","<b>Equatorial Guinea<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>5.53<\/b><br />Life Expectancy: <b>38.38<\/b>","<b>Eritrea<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.84<\/b><br />Life Expectancy: <b>39.69<\/b>","<b>Ethiopia<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.88<\/b><br />Life Expectancy: <b>38.94<\/b>","<b>Gabon<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>4.54<\/b><br />Life Expectancy: <b>39.56<\/b>","<b>Gambia<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>5.67<\/b><br />Life Expectancy: <b>36.68<\/b>","<b>Ghana<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.83<\/b><br />Life Expectancy: <b>47.25<\/b>","<b>Guinea<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.12<\/b><br />Life Expectancy: <b>36.17<\/b>","<b>Guinea-Bissau<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>5.67<\/b><br />Life Expectancy: <b>43.64<\/b>","<b>Kenya<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>8.04<\/b><br />Life Expectancy: <b>48.82<\/b>","<b>Lesotho<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>5.82<\/b><br />Life Expectancy: <b>47.97<\/b>","<b>Liberia<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.45<\/b><br />Life Expectancy: <b>35.88<\/b>","<b>Libya<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.61<\/b><br />Life Expectancy: <b>48<\/b>","<b>Madagascar<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.3<\/b><br />Life Expectancy: <b>43.12<\/b>","<b>Malawi<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.98<\/b><br />Life Expectancy: <b>39.02<\/b>","<b>Mali<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.75<\/b><br />Life Expectancy: <b>30.08<\/b>","<b>Mauritania<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.79<\/b><br />Life Expectancy: <b>45.31<\/b>","<b>Mauritius<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.12<\/b><br />Life Expectancy: <b>60.64<\/b>","<b>Morocco<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.13<\/b><br />Life Expectancy: <b>50.6<\/b>","<b>Mozambique<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.6<\/b><br />Life Expectancy: <b>39.4<\/b>","<b>Namibia<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.18<\/b><br />Life Expectancy: <b>48.31<\/b>","<b>Niger<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.12<\/b><br />Life Expectancy: <b>37.1<\/b>","<b>Nigeria<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.35<\/b><br />Life Expectancy: <b>41.61<\/b>","<b>Rwanda<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>8.2<\/b><br />Life Expectancy: <b>43.74<\/b>","<b>Senegal<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.04<\/b><br />Life Expectancy: <b>38.72<\/b>","<b>Seychelles<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>5.53<\/b><br />Life Expectancy: <b>61.59<\/b>","<b>Sierra Leone<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.16<\/b><br />Life Expectancy: <b>37.06<\/b>","<b>South Africa<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.1<\/b><br />Life Expectancy: <b>49.78<\/b>","<b>Sudan<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.74<\/b><br />Life Expectancy: <b>50.52<\/b>","<b>Swaziland<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.75<\/b><br />Life Expectancy: <b>45.42<\/b>","<b>Tanzania<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.8<\/b><br />Life Expectancy: <b>46.26<\/b>","<b>Togo<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>6.62<\/b><br />Life Expectancy: <b>42.42<\/b>","<b>Tunisia<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.12<\/b><br />Life Expectancy: <b>44.65<\/b>","<b>Uganda<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.04<\/b><br />Life Expectancy: <b>46.56<\/b>","<b>Zambia<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.13<\/b><br />Life Expectancy: <b>49.42<\/b>","<b>Zimbabwe<\/b><br><br />Continent: <b>Africa<\/b><br />Fertility: <b>7.27<\/b><br />Life Expectancy: <b>53.99<\/b>"],"marker":{"color":"rgba(102,194,165,1)","size":7,"line":{"color":"rgba(102,194,165,1)"}},"type":"scatter","name":"Africa","textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[4.3399999999999999,3.0899999999999999,4.4699999999999998,4.4500000000000002,4.2699999999999996,6.46,6.6500000000000004,6.1399999999999997,3.77,5.46,6.7800000000000002,7.2199999999999998,4.5099999999999998,7.4000000000000004,6.6500000000000004,6.75,7.0899999999999999,6.4400000000000004,6.4900000000000002,5.4900000000000002,6.2999999999999998,7.4400000000000004,5.6299999999999999,6.7699999999999996,7.1799999999999997,5.8099999999999996,6.4699999999999998,6.8600000000000003,4.4100000000000001,6.8799999999999999,7.0700000000000003,6.5599999999999996,5.0499999999999998,3.48,2.8900000000000001,6.6299999999999999],"y":[63.93,65.640000000000001,66.439999999999998,62.579999999999998,62.789999999999999,61.200000000000003,44.5,56.270000000000003,71.25,57.630000000000003,59.18,63.130000000000003,65.090000000000003,54.969999999999999,55.420000000000002,53.5,62.219999999999999,61.490000000000002,47.759999999999998,59.409999999999997,43.259999999999998,49.210000000000001,67.170000000000002,58.490000000000002,52.359999999999999,62.710000000000001,67.030000000000001,50.140000000000001,69,58.469999999999999,59.990000000000002,61.409999999999997,64.200000000000003,70.209999999999994,68.390000000000001,61.299999999999997],"mode":"markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Antigua and Barbuda<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>4.34<\/b><br />Life Expectancy: <b>63.93<\/b>","<b>Argentina<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>3.09<\/b><br />Life Expectancy: <b>65.64<\/b>","<b>Aruba<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>4.47<\/b><br />Life Expectancy: <b>66.44<\/b>","<b>Bahamas<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>4.45<\/b><br />Life Expectancy: <b>62.58<\/b>","<b>Barbados<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>4.27<\/b><br />Life Expectancy: <b>62.79<\/b>","<b>Belize<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.46<\/b><br />Life Expectancy: <b>61.2<\/b>","<b>Bolivia<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.65<\/b><br />Life Expectancy: <b>44.5<\/b>","<b>Brazil<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.14<\/b><br />Life Expectancy: <b>56.27<\/b>","<b>Canada<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>3.77<\/b><br />Life Expectancy: <b>71.25<\/b>","<b>Chile<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>5.46<\/b><br />Life Expectancy: <b>57.63<\/b>","<b>Colombia<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.78<\/b><br />Life Expectancy: <b>59.18<\/b>","<b>Costa Rica<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>7.22<\/b><br />Life Expectancy: <b>63.13<\/b>","<b>Cuba<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>4.51<\/b><br />Life Expectancy: <b>65.09<\/b>","<b>Dominican Republic<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>7.4<\/b><br />Life Expectancy: <b>54.97<\/b>","<b>Ecuador<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.65<\/b><br />Life Expectancy: <b>55.42<\/b>","<b>El Salvador<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.75<\/b><br />Life Expectancy: <b>53.5<\/b>","<b>Greenland<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>7.09<\/b><br />Life Expectancy: <b>62.22<\/b>","<b>Grenada<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.44<\/b><br />Life Expectancy: <b>61.49<\/b>","<b>Guatemala<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.49<\/b><br />Life Expectancy: <b>47.76<\/b>","<b>Guyana<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>5.49<\/b><br />Life Expectancy: <b>59.41<\/b>","<b>Haiti<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.3<\/b><br />Life Expectancy: <b>43.26<\/b>","<b>Honduras<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>7.44<\/b><br />Life Expectancy: <b>49.21<\/b>","<b>Jamaica<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>5.63<\/b><br />Life Expectancy: <b>67.17<\/b>","<b>Mexico<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.77<\/b><br />Life Expectancy: <b>58.49<\/b>","<b>Nicaragua<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>7.18<\/b><br />Life Expectancy: <b>52.36<\/b>","<b>Panama<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>5.81<\/b><br />Life Expectancy: <b>62.71<\/b>","<b>Paraguay<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.47<\/b><br />Life Expectancy: <b>67.03<\/b>","<b>Peru<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.86<\/b><br />Life Expectancy: <b>50.14<\/b>","<b>Puerto Rico<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>4.41<\/b><br />Life Expectancy: <b>69<\/b>","<b>St. Lucia<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.88<\/b><br />Life Expectancy: <b>58.47<\/b>","<b>St. Vincent and the Grenadines<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>7.07<\/b><br />Life Expectancy: <b>59.99<\/b>","<b>Suriname<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.56<\/b><br />Life Expectancy: <b>61.41<\/b>","<b>Trinidad and Tobago<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>5.05<\/b><br />Life Expectancy: <b>64.2<\/b>","<b>United States<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>3.48<\/b><br />Life Expectancy: <b>70.21<\/b>","<b>Uruguay<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>2.89<\/b><br />Life Expectancy: <b>68.39<\/b>","<b>Venezuela<\/b><br><br />Continent: <b>Americas<\/b><br />Fertility: <b>6.63<\/b><br />Life Expectancy: <b>61.3<\/b>"],"marker":{"color":"rgba(252,141,98,1)","size":7,"line":{"color":"rgba(252,141,98,1)"}},"type":"scatter","name":"Americas","textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[4.4400000000000004,5.5899999999999999,7.1699999999999999,6.79,6.6699999999999999,6.4500000000000002,6.96,5.9699999999999998,3.4199999999999999,2.9500000000000002,5.1799999999999997,5.8399999999999999,5.6500000000000004,6.9100000000000001,6.5099999999999998,3.8300000000000001,1.97,7.9000000000000004,4.4400000000000004,5.79,7.3099999999999996,5.3099999999999996,5.9699999999999998,5.6900000000000004,4.5300000000000002,6.0499999999999998,7.1200000000000001,7.3499999999999996,6,7.25,6.5999999999999996,7.0199999999999996,6.9800000000000004,7.2400000000000002,5.2699999999999996,5.2999999999999998,7.5199999999999996,6.3099999999999996,6.1600000000000001,6.3799999999999999,6.1799999999999997,6.6299999999999999,6.8899999999999997,6.7800000000000002,7.9100000000000001,6.4299999999999997,7.3300000000000001],"y":[67.819999999999993,62.200000000000003,54.329999999999998,47.280000000000001,37.039999999999999,63.670000000000002,42.700000000000003,43.289999999999999,70.379999999999995,64.310000000000002,68.549999999999997,42.719999999999999,46.649999999999999,47.219999999999999,49.240000000000002,69.129999999999995,68.709999999999994,54.939999999999998,59.850000000000001,54.509999999999998,63.770000000000003,56.990000000000002,42.640000000000001,63.469999999999999,65.900000000000006,61.07,39.640000000000001,51.079999999999998,40.740000000000002,46.469999999999999,48.630000000000003,59.530000000000001,62.310000000000002,48.840000000000003,65.719999999999999,60.609999999999999,53.979999999999997,58.030000000000001,56.509999999999998,39.149999999999999,48.520000000000003,55.82,53.909999999999997,60.25,52.079999999999998,59.82,34.520000000000003],"mode":"markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Armenia<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>4.44<\/b><br />Life Expectancy: <b>67.82<\/b>","<b>Azerbaijan<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>5.59<\/b><br />Life Expectancy: <b>62.2<\/b>","<b>Bahrain<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>7.17<\/b><br />Life Expectancy: <b>54.33<\/b>","<b>Bangladesh<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.79<\/b><br />Life Expectancy: <b>47.28<\/b>","<b>Bhutan<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.67<\/b><br />Life Expectancy: <b>37.04<\/b>","<b>Brunei<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.45<\/b><br />Life Expectancy: <b>63.67<\/b>","<b>Cambodia<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.96<\/b><br />Life Expectancy: <b>42.7<\/b>","<b>China<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>5.97<\/b><br />Life Expectancy: <b>43.29<\/b>","<b>Cyprus<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>3.42<\/b><br />Life Expectancy: <b>70.38<\/b>","<b>Georgia<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>2.95<\/b><br />Life Expectancy: <b>64.31<\/b>","<b>Hong Kong, China<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>5.18<\/b><br />Life Expectancy: <b>68.55<\/b>","<b>India<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>5.84<\/b><br />Life Expectancy: <b>42.72<\/b>","<b>Indonesia<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>5.65<\/b><br />Life Expectancy: <b>46.65<\/b>","<b>Iran<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.91<\/b><br />Life Expectancy: <b>47.22<\/b>","<b>Iraq<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.51<\/b><br />Life Expectancy: <b>49.24<\/b>","<b>Israel<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>3.83<\/b><br />Life Expectancy: <b>69.13<\/b>","<b>Japan<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>1.97<\/b><br />Life Expectancy: <b>68.71<\/b>","<b>Jordan<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>7.9<\/b><br />Life Expectancy: <b>54.94<\/b>","<b>Kazakhstan<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>4.44<\/b><br />Life Expectancy: <b>59.85<\/b>","<b>South Korea<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>5.79<\/b><br />Life Expectancy: <b>54.51<\/b>","<b>Kuwait<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>7.31<\/b><br />Life Expectancy: <b>63.77<\/b>","<b>Kyrgyz Republic<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>5.31<\/b><br />Life Expectancy: <b>56.99<\/b>","<b>Lao<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>5.97<\/b><br />Life Expectancy: <b>42.64<\/b>","<b>Lebanon<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>5.69<\/b><br />Life Expectancy: <b>63.47<\/b>","<b>Macao, China<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>4.53<\/b><br />Life Expectancy: <b>65.9<\/b>","<b>Malaysia<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.05<\/b><br />Life Expectancy: <b>61.07<\/b>","<b>Maldives<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>7.12<\/b><br />Life Expectancy: <b>39.64<\/b>","<b>Mongolia<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>7.35<\/b><br />Life Expectancy: <b>51.08<\/b>","<b>Nepal<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6<\/b><br />Life Expectancy: <b>40.74<\/b>","<b>Oman<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>7.25<\/b><br />Life Expectancy: <b>46.47<\/b>","<b>Pakistan<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.6<\/b><br />Life Expectancy: <b>48.63<\/b>","<b>Philippines<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>7.02<\/b><br />Life Expectancy: <b>59.53<\/b>","<b>Qatar<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.98<\/b><br />Life Expectancy: <b>62.31<\/b>","<b>Saudi Arabia<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>7.24<\/b><br />Life Expectancy: <b>48.84<\/b>","<b>Singapore<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>5.27<\/b><br />Life Expectancy: <b>65.72<\/b>","<b>Sri Lanka<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>5.3<\/b><br />Life Expectancy: <b>60.61<\/b>","<b>Syria<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>7.52<\/b><br />Life Expectancy: <b>53.98<\/b>","<b>Tajikistan<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.31<\/b><br />Life Expectancy: <b>58.03<\/b>","<b>Thailand<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.16<\/b><br />Life Expectancy: <b>56.51<\/b>","<b>Timor-Leste<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.38<\/b><br />Life Expectancy: <b>39.15<\/b>","<b>Turkey<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.18<\/b><br />Life Expectancy: <b>48.52<\/b>","<b>Turkmenistan<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.63<\/b><br />Life Expectancy: <b>55.82<\/b>","<b>United Arab Emirates<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.89<\/b><br />Life Expectancy: <b>53.91<\/b>","<b>Uzbekistan<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.78<\/b><br />Life Expectancy: <b>60.25<\/b>","<b>West Bank and Gaza<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>7.91<\/b><br />Life Expectancy: <b>52.08<\/b>","<b>Vietnam<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>6.43<\/b><br />Life Expectancy: <b>59.82<\/b>","<b>Yemen<\/b><br><br />Continent: <b>Asia<\/b><br />Fertility: <b>7.33<\/b><br />Life Expectancy: <b>34.52<\/b>"],"marker":{"color":"rgba(141,160,203,1)","size":7,"line":{"color":"rgba(141,160,203,1)"}},"type":"scatter","name":"Asia","textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[5.96,2.7999999999999998,2.7000000000000002,2.6299999999999999,3.8500000000000001,2.21,2.27,2.23,2.54,1.9399999999999999,2.6600000000000001,2.8100000000000001,2.4700000000000002,2.2200000000000002,1.9199999999999999,3.98,3.98,2.4399999999999999,1.8600000000000001,2.46,2.3900000000000001,3.6000000000000001,3.2000000000000002,3.1800000000000002,3.3100000000000001,3.1800000000000002,2.8900000000000001,2.7200000000000002,3.1899999999999999,2.02,2.3399999999999999,2.5699999999999998,2.9399999999999999,2.3300000000000001,2.7999999999999998,2.2599999999999998,2.5800000000000001,2.21,2.79],"y":[64.840000000000003,69.510000000000005,71.010000000000005,70.189999999999998,64.069999999999993,69.549999999999997,65.659999999999997,70.040000000000006,72.430000000000007,69.930000000000007,68.780000000000001,70.609999999999999,70.010000000000005,69.140000000000001,68,73.819999999999993,70.569999999999993,69.209999999999994,69.969999999999999,69.459999999999994,68.590000000000003,62.109999999999999,69.019999999999996,62.990000000000002,65.209999999999994,73.209999999999994,73.549999999999997,67.709999999999994,64.370000000000005,67.319999999999993,68.510000000000005,64.439999999999998,70.400000000000006,68.980000000000004,69.650000000000006,73.340000000000003,71.349999999999994,70.560000000000002,70.840000000000003],"mode":"markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Albania<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>5.96<\/b><br />Life Expectancy: <b>64.84<\/b>","<b>Austria<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.8<\/b><br />Life Expectancy: <b>69.51<\/b>","<b>Belarus<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.7<\/b><br />Life Expectancy: <b>71.01<\/b>","<b>Belgium<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.63<\/b><br />Life Expectancy: <b>70.19<\/b>","<b>Bosnia and Herzegovina<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>3.85<\/b><br />Life Expectancy: <b>64.07<\/b>","<b>Bulgaria<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.21<\/b><br />Life Expectancy: <b>69.55<\/b>","<b>Croatia<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.27<\/b><br />Life Expectancy: <b>65.66<\/b>","<b>Czech Republic<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.23<\/b><br />Life Expectancy: <b>70.04<\/b>","<b>Denmark<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.54<\/b><br />Life Expectancy: <b>72.43<\/b>","<b>Estonia<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>1.94<\/b><br />Life Expectancy: <b>69.93<\/b>","<b>Finland<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.66<\/b><br />Life Expectancy: <b>68.78<\/b>","<b>France<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.81<\/b><br />Life Expectancy: <b>70.61<\/b>","<b>Germany<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.47<\/b><br />Life Expectancy: <b>70.01<\/b>","<b>Greece<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.22<\/b><br />Life Expectancy: <b>69.14<\/b>","<b>Hungary<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>1.92<\/b><br />Life Expectancy: <b>68<\/b>","<b>Iceland<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>3.98<\/b><br />Life Expectancy: <b>73.82<\/b>","<b>Ireland<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>3.98<\/b><br />Life Expectancy: <b>70.57<\/b>","<b>Italy<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.44<\/b><br />Life Expectancy: <b>69.21<\/b>","<b>Latvia<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>1.86<\/b><br />Life Expectancy: <b>69.97<\/b>","<b>Lithuania<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.46<\/b><br />Life Expectancy: <b>69.46<\/b>","<b>Luxembourg<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.39<\/b><br />Life Expectancy: <b>68.59<\/b>","<b>Macedonia, FYR<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>3.6<\/b><br />Life Expectancy: <b>62.11<\/b>","<b>Malta<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>3.2<\/b><br />Life Expectancy: <b>69.02<\/b>","<b>Moldova<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>3.18<\/b><br />Life Expectancy: <b>62.99<\/b>","<b>Montenegro<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>3.31<\/b><br />Life Expectancy: <b>65.21<\/b>","<b>Netherlands<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>3.18<\/b><br />Life Expectancy: <b>73.21<\/b>","<b>Norway<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.89<\/b><br />Life Expectancy: <b>73.55<\/b>","<b>Poland<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.72<\/b><br />Life Expectancy: <b>67.71<\/b>","<b>Portugal<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>3.19<\/b><br />Life Expectancy: <b>64.37<\/b>","<b>Romania<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.02<\/b><br />Life Expectancy: <b>67.32<\/b>","<b>Russia<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.34<\/b><br />Life Expectancy: <b>68.51<\/b>","<b>Serbia<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.57<\/b><br />Life Expectancy: <b>64.44<\/b>","<b>Slovak Republic<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.94<\/b><br />Life Expectancy: <b>70.4<\/b>","<b>Slovenia<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.33<\/b><br />Life Expectancy: <b>68.98<\/b>","<b>Spain<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.8<\/b><br />Life Expectancy: <b>69.65<\/b>","<b>Sweden<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.26<\/b><br />Life Expectancy: <b>73.34<\/b>","<b>Switzerland<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.58<\/b><br />Life Expectancy: <b>71.35<\/b>","<b>Ukraine<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.21<\/b><br />Life Expectancy: <b>70.56<\/b>","<b>United Kingdom<\/b><br><br />Continent: <b>Europe<\/b><br />Fertility: <b>2.79<\/b><br />Life Expectancy: <b>70.84<\/b>"],"marker":{"color":"rgba(231,138,195,1)","size":7,"line":{"color":"rgba(231,138,195,1)"}},"type":"scatter","name":"Europe","textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[3.4300000000000002,6.0899999999999999,5.5,7.0800000000000001,6.9100000000000001,5.2199999999999998,3.5099999999999998,6.2800000000000002,7.6299999999999999,6.3799999999999999,7.2999999999999998,7.0300000000000002],"y":[70.909999999999997,56.539999999999999,57.090000000000003,46.640000000000001,57.539999999999999,57.719999999999999,71.260000000000005,39.869999999999997,52.619999999999997,51.689999999999998,61.909999999999997,47.140000000000001],"mode":"markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b>Australia<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>3.43<\/b><br />Life Expectancy: <b>70.91<\/b>","<b>Fiji<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>6.09<\/b><br />Life Expectancy: <b>56.54<\/b>","<b>French Polynesia<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>5.5<\/b><br />Life Expectancy: <b>57.09<\/b>","<b>Kiribati<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>7.08<\/b><br />Life Expectancy: <b>46.64<\/b>","<b>Micronesia, Fed. Sts.<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>6.91<\/b><br />Life Expectancy: <b>57.54<\/b>","<b>New Caledonia<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>5.22<\/b><br />Life Expectancy: <b>57.72<\/b>","<b>New Zealand<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>3.51<\/b><br />Life Expectancy: <b>71.26<\/b>","<b>Papua New Guinea<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>6.28<\/b><br />Life Expectancy: <b>39.87<\/b>","<b>Samoa<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>7.63<\/b><br />Life Expectancy: <b>52.62<\/b>","<b>Solomon Islands<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>6.38<\/b><br />Life Expectancy: <b>51.69<\/b>","<b>Tonga<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>7.3<\/b><br />Life Expectancy: <b>61.91<\/b>","<b>Vanuatu<\/b><br><br />Continent: <b>Oceania<\/b><br />Fertility: <b>7.03<\/b><br />Life Expectancy: <b>47.14<\/b>"],"marker":{"color":"rgba(166,216,84,1)","size":7,"line":{"color":"rgba(166,216,84,1)"}},"type":"scatter","name":"Oceania","textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<p><br></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Python Plotly rendering
</div>
</div>
<div class="callout-body-container callout-body">
<p>A quick note about having <code>plotly</code> work inside of the RStudio IDE–as of the time of this writing it isn’t very straightforward, i.e., not <a href="https://github.com/rstudio/rstudio/issues/8762">officially supported yet</a>. The plot will open in a browser window and it’s fairly snappy. The good think is that on the <code>reticulate</code> side, <a href="https://github.com/rstudio/reticulate/issues/711">knitting works</a>! So this side was able to put all this together via <code>rmarkdown</code> when I started this post and Quarto now that I’m finishing this post (remember any <i class="fa-brands fa-r-project" aria-label="r-project"></i> chunk will default to the <code>knitr</code> engine), so that’s pretty cool. We’re even using both <a href="https://rstudio.github.io/renv/articles/renv.html"><code>renv</code></a> and <code>venv</code> for both environments in the same file <i class="fa-solid fa-face-laugh-beam" aria-label="face-laugh-beam"></i></p>
</div>
</div>
<div class="column-page-inset-right">
<p><i class="fa-brands fa-python" aria-label="python"></i> <strong>+ <code>plotly</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">def</span> plotly_title(title, subtitle):</span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="cf">return</span>(<span class="ss">f"&lt;b&gt;</span><span class="sc">{</span>title<span class="sc">}</span><span class="ss">&lt;/b&gt;&lt;br&gt;&lt;sup&gt;</span><span class="sc">{</span>subtitle<span class="sc">}</span><span class="ss">&lt;/sup&gt;"</span>)</span>
<span id="cb16-3"><a href="#cb16-3"></a></span>
<span id="cb16-4"><a href="#cb16-4"></a>margin <span class="op">=</span> <span class="bu">dict</span>(</span>
<span id="cb16-5"><a href="#cb16-5"></a>  t <span class="op">=</span> <span class="dv">95</span>,</span>
<span id="cb16-6"><a href="#cb16-6"></a>  r <span class="op">=</span> <span class="dv">40</span>,</span>
<span id="cb16-7"><a href="#cb16-7"></a>  b <span class="op">=</span> <span class="dv">120</span>,</span>
<span id="cb16-8"><a href="#cb16-8"></a>  l <span class="op">=</span> <span class="dv">79</span>)</span>
<span id="cb16-9"><a href="#cb16-9"></a>  </span>
<span id="cb16-10"><a href="#cb16-10"></a>config <span class="op">=</span> {<span class="st">"displayModeBar"</span>: <span class="va">False</span>}</span>
<span id="cb16-11"><a href="#cb16-11"></a></span>
<span id="cb16-12"><a href="#cb16-12"></a>(px.scatter(</span>
<span id="cb16-13"><a href="#cb16-13"></a>  (gapminder.<span class="bu">filter</span>(pl.col(<span class="st">"year"</span>) <span class="op">==</span> <span class="dv">1962</span>).to_pandas()),</span>
<span id="cb16-14"><a href="#cb16-14"></a>  x <span class="op">=</span> <span class="st">"fertility"</span>, y <span class="op">=</span> <span class="st">"life_expectancy"</span>, color <span class="op">=</span> <span class="st">"continent"</span>,</span>
<span id="cb16-15"><a href="#cb16-15"></a>  hover_name <span class="op">=</span> <span class="st">"country"</span>,</span>
<span id="cb16-16"><a href="#cb16-16"></a>  color_discrete_sequence <span class="op">=</span> px.colors.qualitative.Set2,</span>
<span id="cb16-17"><a href="#cb16-17"></a>  title <span class="op">=</span> plotly_title(</span>
<span id="cb16-18"><a href="#cb16-18"></a>    title <span class="op">=</span> <span class="st">"Scatterplot"</span>, </span>
<span id="cb16-19"><a href="#cb16-19"></a>    subtitle <span class="op">=</span> <span class="st">"Life expectancy by fertility"</span>),</span>
<span id="cb16-20"><a href="#cb16-20"></a>  opacity <span class="op">=</span> <span class="fl">.8</span>, </span>
<span id="cb16-21"><a href="#cb16-21"></a>  template <span class="op">=</span> <span class="st">"plotly_white"</span>) </span>
<span id="cb16-22"><a href="#cb16-22"></a>  .update_traces(</span>
<span id="cb16-23"><a href="#cb16-23"></a>    marker <span class="op">=</span> <span class="bu">dict</span>(</span>
<span id="cb16-24"><a href="#cb16-24"></a>      size <span class="op">=</span> <span class="dv">7</span>))</span>
<span id="cb16-25"><a href="#cb16-25"></a>  .update_layout(</span>
<span id="cb16-26"><a href="#cb16-26"></a>    margin <span class="op">=</span> margin)</span>
<span id="cb16-27"><a href="#cb16-27"></a>).show(config <span class="op">=</span> config) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>                <div id="fbfb1d6b-3dec-4caa-8af8-20f9310be359" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("fbfb1d6b-3dec-4caa-8af8-20f9310be359")) {                    Plotly.newPlot(                        "fbfb1d6b-3dec-4caa-8af8-20f9310be359",                        [{"hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003econtinent=Europe\u003cbr\u003efertility=%{x}\u003cbr\u003elife_expectancy=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Albania","Austria","Belarus","Belgium","Bosnia and Herzegovina","Bulgaria","Croatia","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Iceland","Ireland","Italy","Latvia","Lithuania","Luxembourg","Macedonia, FYR","Malta","Moldova","Montenegro","Netherlands","Norway","Poland","Portugal","Romania","Russia","Serbia","Slovak Republic","Slovenia","Spain","Sweden","Switzerland","Ukraine","United Kingdom"],"legendgroup":"Europe","marker":{"color":"rgb(102,194,165)","opacity":0.8,"symbol":"circle","size":7},"mode":"markers","name":"Europe","orientation":"v","showlegend":true,"x":[5.96,2.8,2.7,2.63,3.85,2.21,2.27,2.23,2.54,1.94,2.66,2.81,2.47,2.22,1.92,3.98,3.98,2.44,1.86,2.46,2.39,3.6,3.2,3.18,3.31,3.18,2.89,2.72,3.19,2.02,2.34,2.57,2.94,2.33,2.8,2.26,2.58,2.21,2.79],"xaxis":"x","y":[64.84,69.51,71.01,70.19,64.07,69.55,65.66,70.04,72.43,69.93,68.78,70.61,70.01,69.14,68.0,73.82,70.57,69.21,69.97,69.46,68.59,62.11,69.02,62.99,65.21,73.21,73.55,67.71,64.37,67.32,68.51,64.44,70.4,68.98,69.65,73.34,71.35,70.56,70.84],"yaxis":"y","type":"scatter"},{"hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003econtinent=Africa\u003cbr\u003efertility=%{x}\u003cbr\u003elife_expectancy=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Algeria","Angola","Benin","Botswana","Burkina Faso","Burundi","Cameroon","Cape Verde","Central African Republic","Chad","Comoros","Congo, Dem. Rep.","Congo, Rep.","Cote d'Ivoire","Djibouti","Egypt","Equatorial Guinea","Eritrea","Ethiopia","Gabon","Gambia","Ghana","Guinea","Guinea-Bissau","Kenya","Lesotho","Liberia","Libya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Morocco","Mozambique","Namibia","Niger","Nigeria","Rwanda","Senegal","Seychelles","Sierra Leone","South Africa","Sudan","Swaziland","Tanzania","Togo","Tunisia","Uganda","Zambia","Zimbabwe"],"legendgroup":"Africa","marker":{"color":"rgb(252,141,98)","opacity":0.8,"symbol":"circle","size":7},"mode":"markers","name":"Africa","orientation":"v","showlegend":true,"x":[7.65,7.39,6.39,6.65,6.34,7.05,5.77,6.95,5.89,6.29,6.9,6.03,5.97,7.5,6.53,6.57,5.53,6.84,6.88,4.54,5.67,6.83,6.12,5.67,8.04,5.82,6.45,7.61,7.3,6.98,6.75,6.79,6.12,7.13,6.6,6.18,7.12,6.35,8.2,7.04,5.53,6.16,6.1,6.74,6.75,6.8,6.62,7.12,7.04,7.13,7.27],"xaxis":"x","y":[48.55,37.08,39.32,51.02,36.23,41.13,44.53,50.43,38.36,41.76,44.89,44.61,49.47,39.46,46.79,49.43,38.38,39.69,38.94,39.56,36.68,47.25,36.17,43.64,48.82,47.97,35.88,48.0,43.12,39.02,30.08,45.31,60.64,50.6,39.4,48.31,37.1,41.61,43.74,38.72,61.59,37.06,49.78,50.52,45.42,46.26,42.42,44.65,46.56,49.42,53.99],"yaxis":"y","type":"scatter"},{"hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003econtinent=Americas\u003cbr\u003efertility=%{x}\u003cbr\u003elife_expectancy=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Antigua and Barbuda","Argentina","Aruba","Bahamas","Barbados","Belize","Bolivia","Brazil","Canada","Chile","Colombia","Costa Rica","Cuba","Dominican Republic","Ecuador","El Salvador","Greenland","Grenada","Guatemala","Guyana","Haiti","Honduras","Jamaica","Mexico","Nicaragua","Panama","Paraguay","Peru","Puerto Rico","St. Lucia","St. Vincent and the Grenadines","Suriname","Trinidad and Tobago","United States","Uruguay","Venezuela"],"legendgroup":"Americas","marker":{"color":"rgb(141,160,203)","opacity":0.8,"symbol":"circle","size":7},"mode":"markers","name":"Americas","orientation":"v","showlegend":true,"x":[4.34,3.09,4.47,4.45,4.27,6.46,6.65,6.14,3.77,5.46,6.78,7.22,4.51,7.4,6.65,6.75,7.09,6.44,6.49,5.49,6.3,7.44,5.63,6.77,7.18,5.81,6.47,6.86,4.41,6.88,7.07,6.56,5.05,3.48,2.89,6.63],"xaxis":"x","y":[63.93,65.64,66.44,62.58,62.79,61.2,44.5,56.27,71.25,57.63,59.18,63.13,65.09,54.97,55.42,53.5,62.22,61.49,47.76,59.41,43.26,49.21,67.17,58.49,52.36,62.71,67.03,50.14,69.0,58.47,59.99,61.41,64.2,70.21,68.39,61.3],"yaxis":"y","type":"scatter"},{"hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003econtinent=Asia\u003cbr\u003efertility=%{x}\u003cbr\u003elife_expectancy=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Armenia","Azerbaijan","Bahrain","Bangladesh","Bhutan","Brunei","Cambodia","China","Cyprus","Georgia","Hong Kong, China","India","Indonesia","Iran","Iraq","Israel","Japan","Jordan","Kazakhstan","South Korea","Kuwait","Kyrgyz Republic","Lao","Lebanon","Macao, China","Malaysia","Maldives","Mongolia","Nepal","Oman","Pakistan","Philippines","Qatar","Saudi Arabia","Singapore","Sri Lanka","Syria","Tajikistan","Thailand","Timor-Leste","Turkey","Turkmenistan","United Arab Emirates","Uzbekistan","West Bank and Gaza","Vietnam","Yemen"],"legendgroup":"Asia","marker":{"color":"rgb(231,138,195)","opacity":0.8,"symbol":"circle","size":7},"mode":"markers","name":"Asia","orientation":"v","showlegend":true,"x":[4.44,5.59,7.17,6.79,6.67,6.45,6.96,5.97,3.42,2.95,5.18,5.84,5.65,6.91,6.51,3.83,1.97,7.9,4.44,5.79,7.31,5.31,5.97,5.69,4.53,6.05,7.12,7.35,6.0,7.25,6.6,7.02,6.98,7.24,5.27,5.3,7.52,6.31,6.16,6.38,6.18,6.63,6.89,6.78,7.91,6.43,7.33],"xaxis":"x","y":[67.82,62.2,54.33,47.28,37.04,63.67,42.7,43.29,70.38,64.31,68.55,42.72,46.65,47.22,49.24,69.13,68.71,54.94,59.85,54.51,63.77,56.99,42.64,63.47,65.9,61.07,39.64,51.08,40.74,46.47,48.63,59.53,62.31,48.84,65.72,60.61,53.98,58.03,56.51,39.15,48.52,55.82,53.91,60.25,52.08,59.82,34.52],"yaxis":"y","type":"scatter"},{"hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003econtinent=Oceania\u003cbr\u003efertility=%{x}\u003cbr\u003elife_expectancy=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Australia","Fiji","French Polynesia","Kiribati","Micronesia, Fed. Sts.","New Caledonia","New Zealand","Papua New Guinea","Samoa","Solomon Islands","Tonga","Vanuatu"],"legendgroup":"Oceania","marker":{"color":"rgb(166,216,84)","opacity":0.8,"symbol":"circle","size":7},"mode":"markers","name":"Oceania","orientation":"v","showlegend":true,"x":[3.43,6.09,5.5,7.08,6.91,5.22,3.51,6.28,7.63,6.38,7.3,7.03],"xaxis":"x","y":[70.91,56.54,57.09,46.64,57.54,57.72,71.26,39.87,52.62,51.69,61.91,47.14],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"fertility"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"life_expectancy"}},"legend":{"title":{"text":"continent"},"tracegroupgap":0},"title":{"text":"\u003cb\u003eScatterplot\u003c\u002fb\u003e\u003cbr\u003e\u003csup\u003eLife expectancy by fertility\u003c\u002fsup\u003e"},"margin":{"t":95,"r":40,"b":120,"l":79}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
</div>
<p><br></p>
<p><code>plotly</code> expects a <code>pandas DataFrame</code> so we’re just using <code>.to_pandas()</code> to give it what it wants, but that doesn’t have to stop you from adding any filtering, summarizing, or aggregating before chaining the data into your viz.</p>
</div>
</section>
<section id="conclusion" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<div class="column-page-inset-right">
<p>Hopefully this is helpful. Feel free to reach out with any feedback or questions.</p>
</div>
<!-- If people like posts like this I can try to do more blogging, I just get busy and foregetful sometimes! -->


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/we-data\.ch\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><i class="fa-solid fa-copyright" aria-label="copyright"></i> 2024, David Munoz Tord</p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 <img src="../../images/primary.png" width="auto" height="30px">
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/we-data-ch">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/@wedata_unige">
      <i class="bi bi-youtube" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/wedata_unige">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/company/wedata-gen%C3%A8ve/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>